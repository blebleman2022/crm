{% extends "leads/base.html" %}

{% block title %}服务交付仪表板 - EduConnect CRM{% endblock %}
{% block page_title %}服务交付仪表板{% endblock %}

{% block content %}
<div class="max-w-7xl mx-auto">
    <div class="mb-8">
        <p class="text-sm font-medium text-gray-500">欢迎回来，{{ current_user.username }}老师！以下是您负责的服务交付情况。</p>
    </div>

    <!-- 统计卡片 -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
        <a href="{{ url_for('customers.list_customers') }}" class="bg-white overflow-hidden shadow rounded-lg hover:shadow-md transition-shadow duration-200">
            <div class="p-5">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <span class="material-symbols-outlined text-2xl text-blue-600">group</span>
                    </div>
                    <div class="ml-5 w-0 flex-1">
                        <dl>
                            <dt class="text-sm font-medium text-gray-500 truncate">我的客户</dt>
                            <dd class="text-lg font-medium text-gray-900">{{ my_customers }}</dd>
                        </dl>
                    </div>
                </div>
            </div>
        </a>

        <a href="{{ url_for('customers.list_customers') }}?service_type=tutoring" class="bg-white overflow-hidden shadow rounded-lg hover:shadow-md transition-shadow duration-200">
            <div class="p-5">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <span class="material-symbols-outlined text-2xl text-green-600">school</span>
                    </div>
                    <div class="ml-5 w-0 flex-1">
                        <dl>
                            <dt class="text-sm font-medium text-gray-500 truncate">课题辅导</dt>
                            <dd class="text-lg font-medium text-gray-900">{{ tutoring_total }}</dd>
                        </dl>
                    </div>
                </div>
            </div>
        </a>

        <a href="{{ url_for('customers.list_customers') }}?service_type=competition" class="bg-white overflow-hidden shadow rounded-lg hover:shadow-md transition-shadow duration-200">
            <div class="p-5">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <span class="material-symbols-outlined text-2xl text-purple-600">emoji_events</span>
                    </div>
                    <div class="ml-5 w-0 flex-1">
                        <dl>
                            <dt class="text-sm font-medium text-gray-500 truncate">竞赛辅导</dt>
                            <dd class="text-lg font-medium text-gray-900">{{ competition_total }}</dd>
                        </dl>
                    </div>
                </div>
            </div>
        </a>

        <a href="{{ url_for('customers.list_customers') }}?completed=true" class="bg-white overflow-hidden shadow rounded-lg hover:shadow-md transition-shadow duration-200">
            <div class="p-5">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <span class="material-symbols-outlined text-2xl text-orange-600">check_circle</span>
                    </div>
                    <div class="ml-5 w-0 flex-1">
                        <dl>
                            <dt class="text-sm font-medium text-gray-500 truncate">已完成</dt>
                            <dd class="text-lg font-medium text-gray-900">{{ tutoring_completed + competition_completed }}</dd>
                        </dl>
                    </div>
                </div>
            </div>
        </a>
    </div>


</div>
{% endblock %}
